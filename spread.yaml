project: bread

path: /bread

environment:
  PROJECT_PATH: /bread
  SHARED_LIBRARIES: $PROJECT_PATH/tests/lib
  PATH: $PATH:$SHARED_LIBRARIES

exclude:
  - .github

backends:
  custom-docker:
    type: adhoc
    allocate: source tests/scripts/spread_allocate.sh
    discard: source tests/scripts/spread_discard.sh
    systems:
      - plucky-amd64:
          password: bread
          # workers: 2
      - plucky-arm64:
          password: bread
          # workers: 2
      - noble-arm64:
          password: bread
          # workers: 2
      - noble-amd64:
          password: bread
          # workers: 2

suites:
  tests/unit/:
    summary: Bread unit tests
  tests/integration/:
    summary: Bread integration tests
